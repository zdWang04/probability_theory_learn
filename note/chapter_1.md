# Chapter 1:组合分析

## 计数基本法则

**基本法则**：假设有 2 个实验，实验 1 有 m 种可能，对于实验 1 的每种可能，实验 2 有 n 种可能，则两个实验一共有 mn 种可能。

> 推广：假设有 r 个实验，实验 1 有 $n_1$ 种可能的结果，实验 2 对于实验 1 的每种结果有 $n_2$ 种结果，实验 3 对于前两个实验每一种可能的结果有 $n_3$ 种结果，以此类推，这r个实验总共有$n_1n_2...n_3$结果。


## 排列
对于 n 个元素，一共有 $n!$ 种排列方式

> **定义**： $0! = 1$

> **推广**：如果有 $n$ 个元素，$n_1$ 个彼此相同，$n_2$ 个彼此相同…… $n_r$个彼此相同，那么有
> $$
> n!\over{n_1!n_2!...n_r!}
> $$
> 种排列

## 组合
1. 如果从 $n$ 个元素中取出 $r$ 个元素排位，不考虑顺序的话，有
$$
n!\over {(n-r)!r!}
$$
种取法

> **定义**：对于 $r \leq n$，有
>$$
> \tbinom{n}{r} = {n!\over{(n-r)!r!}}
>$$
> 称之为从 n 个元素中一次取出 r 个的可能数组合

> **推广1**
> $$
> \tbinom{n}{n} = \tbinom{n}{0} = 1
> $$

> **约定**
> 对于 $r\gt n$ 或 $r \lt 0$
> $$
> \tbinom{n}{r} = 0 
> $$

2. 组合恒等式
    1. 公式描述
    >$$
    > \tbinom{n}{r} = \tbinom{n-1}{r-1} + \tbinom{n - 1}{r}\\
    > 1\leq r\leq n
    >$$

    2. 直观理解：从 n 个元素中取出 r 个元素，想象有一个特殊元素1，选取的结果可以被分为包含元素1和不包含元素1两类。对于上式的第一项就是取元素1的情况（已经选定了元素1,所以就要在非元素1的n-1个元素中选出 r-1个），第二项就是不选元素一（从不包含元素1的n-1个元素中取出r个元素），他们之和就是n个元素中取出r个元素
3. 二项式展开
$$
(x+y)^n = \sum_{i=0}^{n}\tbinom{n}{i}x^iy^{n-i}
$$

4. 多项式系数
    1. 把$n$个元素分为互不重叠的$r$部分，且每部分的个数为$n_1,n_2,...,n_r$，那么有
    $$
    \tbinom{n}{n_1,n_2,...,n_r} = {n!\over{n_1!n_2!...n_r!}}
    $$
    2. 进一步的，在多项式展开中，对所有满足$n_1 + n_2 + ... + n_r = n$的$n_1, n_2m ... n_r$求和
    $$
    (x_1 + x_2 + ... + x_r)^n = \sum_{n_1+n_2+..+n_r=n}\tbinom{n}{n_1,n_2,...,n_r}x_1^{n_1}x_2^{n_2}...x_r^{n_r}
    $$

5. 方程的整数解的个数
<br>
对于方程
$$
x_1 + x_2 + ... + x_r = n \\ 
x_i \geq 0, x_i\in \mathbb{N}_{\ge 0} ,i=1,2,...,r 
$$
解的个数为
$$
\tbinom{n+r-1}{r-1}
$$

